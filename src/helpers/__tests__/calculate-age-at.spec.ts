import calculateAgeAt from '../calculate-age-at';

test.each`
  birthday                 | at                       | expected
  ${'2000-01-01T00:00:00'} | ${'2000-01-01T00:00:00'} | ${0}
  ${'2000-02-29T00:00:00'} | ${'2001-02-28T00:00:00'} | ${1}
  ${'2020-02-29T00:00:00'} | ${'2021-02-28T00:00:00'} | ${1}
  ${'2020-02-29T00:00:00'} | ${'2021-02-27T23:59:59'} | ${0}
  ${'2012-03-27T12:00:00'} | ${'2013-03-27T18:00:00'} | ${1}
  ${'2012-03-27T00:00:00'} | ${'2013-03-27T00:00:00'} | ${1}
  ${'2012-03-27T12:00:00'} | ${'2013-03-27T12:00:00'} | ${1}
  ${'2000-01-01T00:00:00'} | ${'2020-01-01T00:00:00'} | ${20}
  ${'2000-01-01T00:00:00'} | ${'2020-01-01T12:01:00'} | ${20}
  ${'2000-01-01T00:00:00'} | ${'2100-01-01T00:00:00'} | ${100}
`(
  'returns $expected when $birthday is compared with $at',
  ({ birthday, at, expected }) => {
    expect(calculateAgeAt(new Date(birthday), new Date(at))).toBe(expected);
  }
);
